<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate="register_title">Registro de Usuario - GESTOR DE MANTENIMIENTO PREVENTIVO</title>
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="../css/register.css">
    <link rel="stylesheet" href="../css/dark-theme.css">
</head>
<body>
    <div class="register-container">
        <!-- Back to Login -->
        <div class="back-to-login">
            <a href="index.html" class="back-link" aria-label="Regresar al inicio de sesi√≥n" data-translate="back_to_login">
                <span aria-hidden="true">‚Üê</span> Regresar al inicio de sesi√≥n
            </a>
            <!-- Quick Settings for Register Page -->
            <div class="page-settings">
                <button class="quick-setting-btn" id="quickLanguageToggle" aria-label="Cambiar idioma">
                    <span class="setting-icon">üåê</span>
                    <span class="setting-text" id="quickLanguageText">ES</span>
                </button>
                <button class="quick-setting-btn" id="quickThemeToggle" aria-label="Cambiar tema">
                    <span class="setting-icon">üåì</span>
                    <span class="setting-text" id="quickThemeText">‚òÄÔ∏è</span>
                </button>
                <button class="quick-setting-btn" id="quickShortcuts" aria-label="Atajos de teclado">
                    <span class="setting-icon">‚å®Ô∏è</span>
                </button>
            </div>
        </div>

        <!-- Register Form Section -->
        <div class="register-form-section">
            <div class="register-form-wrapper">
                <!-- Logo -->
                <div class="register-logo">
                    <div class="logo-icon">
                        <span class="logo-text">GMPI</span>
                    </div>
                    <h1 class="system-title" data-translate="system_title">Gestor de Mantenimiento Preventivo</h1>
                    <p class="system-subtitle" data-translate="new_user_register">Registro de Nuevo Usuario</p>
                </div>

                <!-- Register Form -->
                <form class="register-form" id="registerForm" novalidate aria-label="Formulario de registro de usuario">
                    <div class="form-header">
                        <h2 id="register-title" data-translate="create_account">Crear Cuenta</h2>
                        <p data-translate="register_instruction">Completa todos los campos obligatorios (*) para registrarte</p>
                    </div>

                    <!-- Error/Success Messages -->
                    <div class="message-container" id="messageContainer" role="alert" aria-live="polite" aria-atomic="true">
                        <!-- Messages will be inserted here -->
                    </div>

                    <!-- Progress Indicator -->
                    <div class="progress-indicator" role="progressbar" aria-label="Progreso del formulario" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-bar" id="progressBar"></div>
                        <span class="progress-text" id="progressText" data-translate="progress_completed">0% completado</span>
                    </div>

                    <!-- SECCI√ìN: DATOS PERSONALES -->
                    <fieldset class="form-section" id="personalSection">
                        <legend class="section-title" data-translate="personal_data">
                            <span class="section-icon" aria-hidden="true">üë§</span>
                            Datos Personales
                        </legend>
                    <fieldset class="form-section" id="personalDataSection">
                        <legend class="section-title">
                            <span class="section-icon" aria-hidden="true">üë§</span>
                            Datos Personales
                        </legend>

                        <!-- Nombre -->
                        <div class="input-group">
                            <label for="firstName" class="input-label" id="firstName-label">
                                Nombre(s)
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="text" 
                                    id="firstName" 
                                    name="firstName" 
                                    class="form-input" 
                                    placeholder="Ejemplo: Juan Carlos"
                                    required
                                    autocomplete="given-name"
                                    aria-labelledby="firstName-label"
                                    aria-describedby="firstName-error firstName-help"
                                    aria-invalid="false"
                                    autofocus
                                    minlength="2"
                                    maxlength="50"
                                >
                                <span class="input-icon" aria-hidden="true">üë§</span>
                                <span class="input-status" id="firstName-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="firstName-help">Ingresa tu(s) nombre(s) completo(s)</div>
                            <div class="field-error" id="firstName-error" role="alert"></div>
                        </div>

                        <!-- Apellidos -->
                        <div class="input-group">
                            <label for="lastName" class="input-label" id="lastName-label">
                                Apellidos
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="text" 
                                    id="lastName" 
                                    name="lastName" 
                                    class="form-input" 
                                    placeholder="Ejemplo: P√©rez Gonz√°lez"
                                    required
                                    autocomplete="family-name"
                                    aria-labelledby="lastName-label"
                                    aria-describedby="lastName-error lastName-help"
                                    aria-invalid="false"
                                    minlength="2"
                                    maxlength="50"
                                >
                                <span class="input-icon" aria-hidden="true">üë•</span>
                                <span class="input-status" id="lastName-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="lastName-help">Ingresa tus apellidos completos</div>
                            <div class="field-error" id="lastName-error" role="alert"></div>
                        </div>

                        <!-- Tipo de Documento -->
                        <div class="input-group">
                            <label for="documentType" class="input-label" id="documentType-label">
                                Tipo de Documento
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <select 
                                    id="documentType" 
                                    name="documentType" 
                                    class="form-input form-select" 
                                    required
                                    aria-labelledby="documentType-label"
                                    aria-describedby="documentType-error documentType-help"
                                    aria-invalid="false"
                                >
                                    <option value="">Selecciona un tipo</option>
                                    <option value="cedula">C√©dula de Ciudadan√≠a</option>
                                    <option value="pasaporte">Pasaporte</option>
                                    <option value="extranjeria">C√©dula de Extranjer√≠a</option>
                                    <option value="nit">NIT</option>
                                </select>
                                <span class="input-icon" aria-hidden="true">üìÑ</span>
                                <span class="input-status" id="documentType-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="documentType-help">Selecciona el tipo de documento de identidad</div>
                            <div class="field-error" id="documentType-error" role="alert"></div>
                        </div>

                        <!-- N√∫mero de Documento -->
                        <div class="input-group">
                            <label for="documentNumber" class="input-label" id="documentNumber-label">
                                N√∫mero de Documento
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="text" 
                                    id="documentNumber" 
                                    name="documentNumber" 
                                    class="form-input" 
                                    placeholder="Ejemplo: 1234567890"
                                    required
                                    aria-labelledby="documentNumber-label"
                                    aria-describedby="documentNumber-error documentNumber-help"
                                    aria-invalid="false"
                                    minlength="6"
                                    maxlength="20"
                                >
                                <span class="input-icon" aria-hidden="true">üî¢</span>
                                <span class="input-status" id="documentNumber-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="documentNumber-help">Ingresa solo n√∫meros, sin puntos ni espacios</div>
                            <div class="field-error" id="documentNumber-error" role="alert"></div>
                        </div>
                    </fieldset>

                    <!-- SECCI√ìN: INFORMACI√ìN DE CONTACTO -->
                    <fieldset class="form-section" id="contactSection">
                        <legend class="section-title">
                            <span class="section-icon" aria-hidden="true">üìû</span>
                            Informaci√≥n de Contacto
                        </legend>

                        <!-- Email -->
                        <div class="input-group">
                            <label for="email" class="input-label" id="email-label">
                                Correo Electr√≥nico
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="email" 
                                    id="email" 
                                    name="email" 
                                    class="form-input" 
                                    placeholder="Ejemplo: usuario@colegio.edu"
                                    required
                                    autocomplete="email"
                                    aria-labelledby="email-label"
                                    aria-describedby="email-error email-help"
                                    aria-invalid="false"
                                >
                                <span class="input-icon" aria-hidden="true">üìß</span>
                                <span class="input-status" id="email-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="email-help">Ingresa un correo electr√≥nico v√°lido</div>
                            <div class="field-error" id="email-error" role="alert"></div>
                        </div>

                        <!-- Tel√©fono -->
                        <div class="input-group">
                            <label for="phone" class="input-label" id="phone-label">
                                Tel√©fono
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="tel" 
                                    id="phone" 
                                    name="phone" 
                                    class="form-input" 
                                    placeholder="Ejemplo: 3001234567"
                                    required
                                    autocomplete="tel"
                                    aria-labelledby="phone-label"
                                    aria-describedby="phone-error phone-help"
                                    aria-invalid="false"
                                    minlength="10"
                                    maxlength="10"
                                >
                                <span class="input-icon" aria-hidden="true">üì±</span>
                                <span class="input-status" id="phone-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="phone-help">Ingresa 10 d√≠gitos sin espacios ni guiones</div>
                            <div class="field-error" id="phone-error" role="alert"></div>
                        </div>

                        <!-- Cargo -->
                        <div class="input-group">
                            <label for="position" class="input-label" id="position-label">
                                Cargo o Funci√≥n
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <select 
                                    id="position" 
                                    name="position" 
                                    class="form-input form-select" 
                                    required
                                    aria-labelledby="position-label"
                                    aria-describedby="position-error position-help"
                                    aria-invalid="false"
                                >
                                    <option value="">Selecciona tu cargo</option>
                                    <option value="director">Director/a</option>
                                    <option value="coordinador">Coordinador/a</option>
                                    <option value="administrador">Administrador/a</option>
                                    <option value="supervisor">Supervisor/a de Mantenimiento</option>
                                    <option value="tecnico">T√©cnico en Mantenimiento</option>
                                    <option value="auxiliar">Auxiliar de Servicios</option>
                                    <option value="otro">Otro</option>
                                </select>
                                <span class="input-icon" aria-hidden="true">üíº</span>
                                <span class="input-status" id="position-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="position-help">Selecciona el cargo que desempe√±as</div>
                            <div class="field-error" id="position-error" role="alert"></div>
                        </div>
                    </fieldset>

                    <!-- SECCI√ìN: CREDENCIALES DE ACCESO -->
                    <fieldset class="form-section" id="credentialsSection">
                        <legend class="section-title">
                            <span class="section-icon" aria-hidden="true">üîê</span>
                            Credenciales de Acceso
                        </legend>

                        <!-- Contrase√±a -->
                        <div class="input-group">
                            <label for="password" class="input-label" id="password-label">
                                Contrase√±a
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="password" 
                                    id="password" 
                                    name="password" 
                                    class="form-input" 
                                    placeholder="Crea una contrase√±a segura"
                                    required
                                    autocomplete="new-password"
                                    aria-labelledby="password-label"
                                    aria-describedby="password-error password-help password-toggle"
                                    aria-invalid="false"
                                    minlength="8"
                                    maxlength="50"
                                >
                                <span class="input-icon" aria-hidden="true">üîí</span>
                                <button 
                                    type="button" 
                                    class="toggle-password" 
                                    id="togglePassword"
                                    aria-label="Mostrar contrase√±a"
                                    aria-describedby="password-toggle"
                                    tabindex="0"
                                >
                                    <span class="toggle-icon" aria-hidden="true">üëÅÔ∏è</span>
                                </button>
                                <span class="input-status" id="password-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="password-help">M√≠nimo 8 caracteres, incluye may√∫sculas, min√∫sculas y n√∫meros</div>
                            <div class="field-error" id="password-error" role="alert"></div>
                            <div class="sr-only" id="password-toggle">Presiona para alternar la visibilidad de la contrase√±a</div>
                            
                            <!-- Barra de Fortaleza de Contrase√±a -->
                            <div class="password-strength" id="passwordStrength">
                                <div class="strength-label">Fortaleza de contrase√±a:</div>
                                <div class="strength-bar">
                                    <div class="strength-fill" id="strengthFill"></div>
                                </div>
                                <div class="strength-text" id="strengthText">D√©bil</div>
                            </div>
                        </div>

                        <!-- Confirmar Contrase√±a -->
                        <div class="input-group">
                            <label for="confirmPassword" class="input-label" id="confirmPassword-label">
                                Confirmar Contrase√±a
                                <span class="required-indicator" aria-hidden="true">*</span>
                            </label>
                            <div class="input-wrapper">
                                <input 
                                    type="password" 
                                    id="confirmPassword" 
                                    name="confirmPassword" 
                                    class="form-input" 
                                    placeholder="Confirma tu contrase√±a"
                                    required
                                    autocomplete="new-password"
                                    aria-labelledby="confirmPassword-label"
                                    aria-describedby="confirmPassword-error confirmPassword-help confirmPassword-toggle"
                                    aria-invalid="false"
                                    minlength="8"
                                    maxlength="50"
                                >
                                <span class="input-icon" aria-hidden="true">üîí</span>
                                <button 
                                    type="button" 
                                    class="toggle-password" 
                                    id="toggleConfirmPassword"
                                    aria-label="Mostrar confirmaci√≥n de contrase√±a"
                                    aria-describedby="confirmPassword-toggle"
                                    tabindex="0"
                                >
                                    <span class="toggle-icon" aria-hidden="true">üëÅÔ∏è</span>
                                </button>
                                <span class="input-status" id="confirmPassword-status" aria-hidden="true"></span>
                            </div>
                            <div class="field-help" id="confirmPassword-help">Repite la contrase√±a para confirmarla</div>
                            <div class="field-error" id="confirmPassword-error" role="alert"></div>
                            <div class="sr-only" id="confirmPassword-toggle">Presiona para alternar la visibilidad de la confirmaci√≥n de contrase√±a</div>
                        </div>
                    </fieldset>

                    <!-- SECCI√ìN: T√âRMINOS Y CONDICIONES -->
                    <fieldset class="form-section" id="termsSection">
                        <legend class="section-title">
                            <span class="section-icon" aria-hidden="true">üìã</span>
                            T√©rminos y Condiciones
                        </legend>

                        <!-- Acepto t√©rminos -->
                        <div class="input-group">
                            <label class="checkbox-label">
                                <input 
                                    type="checkbox" 
                                    id="acceptTerms" 
                                    name="acceptTerms" 
                                    required
                                    aria-describedby="acceptTerms-error acceptTerms-help"
                                    aria-invalid="false"
                                >
                                <span class="checkmark" aria-hidden="true"></span>
                                <span class="checkbox-text">
                                    Acepto los <a href="#" class="terms-link">t√©rminos y condiciones</a> de uso
                                    <span class="required-indicator" aria-hidden="true">*</span>
                                </span>
                            </label>
                            <div class="field-help" id="acceptTerms-help">Es obligatorio aceptar los t√©rminos para registrarte</div>
                            <div class="field-error" id="acceptTerms-error" role="alert"></div>
                        </div>

                        <!-- Acepto pol√≠ticas -->
                        <div class="input-group">
                            <label class="checkbox-label">
                                <input 
                                    type="checkbox" 
                                    id="acceptPrivacy" 
                                    name="acceptPrivacy" 
                                    required
                                    aria-describedby="acceptPrivacy-error acceptPrivacy-help"
                                    aria-invalid="false"
                                >
                                <span class="checkmark" aria-hidden="true"></span>
                                <span class="checkbox-text">
                                    Acepto las <a href="#" class="privacy-link">pol√≠ticas de privacidad</a>
                                    <span class="required-indicator" aria-hidden="true">*</span>
                                </span>
                            </label>
                            <div class="field-help" id="acceptPrivacy-help">Necesario para proteger tus datos personales</div>
                            <div class="field-error" id="acceptPrivacy-error" role="alert"></div>
                        </div>
                    </fieldset>

                    <!-- Form Actions -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-cancel" id="cancelButton" aria-label="Cancelar registro y regresar">
                            <span class="btn-icon" aria-hidden="true">‚ùå</span>
                            <span class="btn-text">Cancelar</span>
                        </button>
                        <button type="submit" class="btn btn-primary" id="registerButton" aria-describedby="register-help">
                            <span class="btn-icon" aria-hidden="true">‚úÖ</span>
                            <span class="btn-text">Registrarse</span>
                            <span class="btn-loader" id="btnLoader" aria-hidden="true">‚ü≥</span>
                        </button>
                    </div>
                    <div class="field-help" id="register-help">Al registrarte, se crear√° tu cuenta en el sistema</div>

                    <!-- Accessibility Info -->
                    <div class="accessibility-info sr-only">
                        <p data-translate="accessibility_info_1">Este formulario es compatible con lectores de pantalla y navegaci√≥n por teclado.</p>
                        <p data-translate="accessibility_info_2">Use Tab para navegar, Enter para enviar, y Space para activar controles.</p>
                        <p data-translate="accessibility_info_3">Los campos obligatorios est√°n marcados con asterisco (*).</p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../javascript/register-validation.js"></script>
    <script src="../javascript/settings.js"></script>
    <script>
        // Initialize settings on page load
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof SettingsManager !== 'undefined') {
                const settingsManager = new SettingsManager();
                settingsManager.init();
                
                // Connect quick settings buttons
                const quickLanguageToggle = document.getElementById('quickLanguageToggle');
                const quickThemeToggle = document.getElementById('quickThemeToggle');
                const quickShortcuts = document.getElementById('quickShortcuts');
                
                if (quickLanguageToggle) {
                    quickLanguageToggle.addEventListener('click', function() {
                        settingsManager.toggleLanguage();
                    });
                }
                
                if (quickThemeToggle) {
                    quickThemeToggle.addEventListener('click', function() {
                        settingsManager.toggleTheme();
                    });
                }
                
                if (quickShortcuts) {
                    quickShortcuts.addEventListener('click', function() {
                        settingsManager.showShortcuts();
                    });
                }
            }
        });
    </script>
    <script src="../js/register.js"></script>
</body>
</html>
